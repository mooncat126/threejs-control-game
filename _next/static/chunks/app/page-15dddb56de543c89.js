(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1660:function(e,o,n){Promise.resolve().then(n.bind(n,767))},767:function(e,o,n){"use strict";var t=n(7437),l=n(2265),i=n(7776),a=n(9943),r=n(2790);o.default=()=>{let e=(0,l.useRef)(null),o=null,n=null,d={},s=null,w=!1,_=!1,c=!1;return(0,l.useEffect)(()=>{if(!e.current)return;let t=new i.xsS,l=new i.xo$(.1,8,8),f=new i.vBJ({color:16777215}),u=new i.SPe(l,f,1e4),h=new i.Tme;for(let e=0;e<1e4;e++){let o=i.M8C.randFloatSpread(200),n=i.M8C.randFloatSpread(200),t=i.M8C.randFloatSpread(200);h.position.set(o,n,t),h.updateMatrix(),u.setMatrixAt(e,h.matrix)}t.add(u);let p=new i.cPb(75,window.innerWidth/window.innerHeight,.1,1e3);p.position.set(20,10,50);let W=new i.CP7;W.setSize(window.innerWidth,window.innerHeight),W.setClearColor(0,1),e.current.appendChild(W.domElement);let k=new a.z(p,W.domElement);k.enableDamping=!0,k.dampingFactor=.25,k.enableZoom=!0,k.minPolarAngle=Math.PI/6,k.maxPolarAngle=Math.PI/2;let m=new i.Ox3(16777215,4);m.position.set(1,1,1).normalize(),t.add(m);let y=new i.Mig(4210752,2);t.add(y);let g=new i.VLJ(200,200);t.add(g);let S=new i.y8_(200);t.add(S);let v=new i._12(200,200),x=new i.xoR({color:8421504}),C=new i.Kj0(v,x);C.rotation.x=-Math.PI/2,C.position.y=-.5,t.add(C);let E=new i.lLk;E.onStart=()=>console.log("Started loading model"),E.onLoad=()=>console.log("Loading complete"),E.onError=()=>console.error("Error loading model"),new r.y(E).load("/models/house1/Big_Old_House.fbx",e=>{e.scale.set(.035,.035,.035),e.position.set(2,0,0),t.add(e),console.log("Big_Old_House loaded")}),new r.y(E).load("/models/house2/City_House_2_BI.fbx",e=>{e.scale.set(3,3,3),e.position.set(18,0,0),e.rotation.set(Math.PI/2,Math.PI,Math.PI),t.add(e),console.log("City_House_2_BI loaded")}),new r.y(E).load("/models/wolf/Wolf.fbx",e=>{(n=e).scale.set(.08,.08,.08),n.position.set(30,0,0),t.add(n),console.log("Wolf model loaded"),o=new i.Xcj(n),e.animations.length>0&&(e.animations.forEach(e=>{let n=o.clipAction(e);d[e.name]=n}),(s=d["Wolf_Skeleton|Wolf_Idle_"])&&s.play())});let M=new i.SUY,P=()=>{requestAnimationFrame(P);let e=M.getDelta();o&&o.update(e),u.rotation.y+=5e-4,k.update(),W.render(t,p)};P();let b=function(e){let o=!(arguments.length>1)||void 0===arguments[1]||arguments[1];s&&e!==s&&s.fadeOut(.2),e&&(e.reset().fadeIn(.2).play(),e.loop=o?i.YKA:i.jAl,e.clampWhenFinished=!o),s=e},I=e=>{if(!n)return;let o=w?5:2;switch(e.key){case"Shift":w=!0;break;case"ArrowDown":n.position.z+=o,n.rotation.y=0,b(w?d["Wolf_Skeleton|Wolf_Run_Cycle_"]:d["Wolf_Skeleton|Wolf_Walk_cycle_"]);break;case"ArrowUp":n.position.z-=o,n.rotation.y=Math.PI,b(w?d["Wolf_Skeleton|Wolf_Run_Cycle_"]:d["Wolf_Skeleton|Wolf_Walk_cycle_"]);break;case"ArrowLeft":n.position.x-=o,n.rotation.y=-Math.PI/2,b(w?d["Wolf_Skeleton|Wolf_Run_Cycle_"]:d["Wolf_Skeleton|Wolf_Walk_cycle_"]);break;case"ArrowRight":n.position.x+=o,n.rotation.y=Math.PI/2,b(w?d["Wolf_Skeleton|Wolf_Run_Cycle_"]:d["Wolf_Skeleton|Wolf_Walk_cycle_"]);break;case" ":c||(c=!0,(_=!_)?b(d["Wolf_Skeleton|Wolf_seat_"],!1):b(d["Wolf_Skeleton|Wolf_Idle_"]));break;default:b(d["Wolf_Skeleton|Wolf_Idle_"])}},A=e=>{"Shift"===e.key&&(w=!1)," "===e.key&&(c=!1)};window.addEventListener("keydown",I),window.addEventListener("keyup",A);let L=()=>{p.aspect=window.innerWidth/window.innerHeight,p.updateProjectionMatrix(),W.setSize(window.innerWidth,window.innerHeight)};return window.addEventListener("resize",L),()=>{e.current&&e.current.removeChild(W.domElement),window.removeEventListener("resize",L),window.removeEventListener("keydown",I),window.removeEventListener("keyup",A)}},[]),(0,t.jsx)("div",{ref:e,style:{width:"100vw",height:"100vh"}})}}},function(e){e.O(0,[689,161,971,23,744],function(){return e(e.s=1660)}),_N_E=e.O()}]);